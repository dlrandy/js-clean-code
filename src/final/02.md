# clean code 的信条

所谓的信条是指可靠性，高效性，可维护性以及可用性。这些信条不是规则，但是通过信条
可以衡量 code 的优劣。

### 可靠性(Reliability)

好的软件系统的核心支柱。

它包含三个品质：正确性，稳定性和弹性。

#### 正确性

code 满足了需求和期望。例子验证有效邮箱的功能

> 建立和确认正确性的方式：
>
> 1. 理解要解决的问题和用户的需要
> 2. 提炼需求直到完全清晰所需要的东西
> 3. 测试你的 code 验证正确性

#### 稳定性

在给定不同的有效的输入和条件下，都会有持续的正确行为。例子响应式布局。

> 通过完全的理解所有的有效输入和 code 被暴露到的环境获得稳定性。测试不同的输入和
> 环境也能保证稳定性

#### 弹性(容错性，冗余性和偶然性)

实际上就是避免失败。稳定性关注的是期待的输入；而弹性关注的是没有预料到的输入和情
况。通常会做一些优雅降级(例子，自动扶梯)，就是期望的功能不能用，但是以另外一种能
用的形式展示给用户。

> 构建弹性的方式：特性检测，比如音频播放不了显示文本。

** code 解决用户问题。但是 code 可以容忍和包容边缘情况，未预见的环境和未期待的输
入，那么 code 就能更高效的达到目的。 **

#### 高效性

不但关于速度还包含间接的影响

##### 时间

优化时间或者优化 CPU 周期

> 算法要尽量的高效。优化的时候，首先要测量 code 的性能，然后在处理真正的性能瓶颈
> 。时间上的高效不仅是重要的原则,而且对可用性有重要影响。

##### 空间

穿梭于网络的数据，进入机器的时候，会临时存在 RAM 里，也可能永久存储在硬盘上。

> 考虑如何优化内存和服务器的带宽使用，用户设备和整个分层递加的网络。时间和空间相
> 互联系，关于高效性要做的就是只做需要的，避免浪费,节省可用资源

##### 高效性的影响

没有优化是独立存在的。一方面的解决总是会对其他方面有影响。软件的一些影响：

1. 功耗的生态影响
2. 慢速软件的认知负担
3. 用户设备的电池寿命和优先执行的任务 **要经常考虑作出的选择带来的连锁反应**

### 可维护性

是指易于对 code 做适当的改变。code 是要时不时的修复的。 code 不但用于终端用户，
也用于修改 code 的人

可维护性包含两个方面：

1. 适应性比较有争议的说法是，最好的可维护性是不需要做维护。适应性指的是 code 可
   以 man 许和适应不同的需要和环境。但是 code 不可能有无限的适应性。code 的本质
   是满足特定的目的。
   > 可以提供一定级别的配置，来满足一定的不同需要。但是总会有新的需求来改变底层
   > 的 code。如果配置不嫩够满足目前的需求，那么就需要对底层 code 做一些修改。
   > **对底层 code 做修改的时候，那么要求改变尽可能少的带来问题**

#### 容易引起问题的 code 的特点是脆弱性和刻板性

1. 脆弱性一块的 code 改变，影响到了其他看似无关的 code。
2. 刻板性不能够简单的适应改变。一个行为需要改变，只需要在一个地方做改变就好了。
   如果需要在很多地方做改变，那这个 code 是刻板的。
   > 脆弱性和刻板性是大型代码库的症状，module 之间相互依赖。模块化将问题隔离成不
   > 同的 code 区域来减少 code 路径的缠绕。SOLID 和设计模式来完成 code 的模块化
   > 。避免脆弱性和刻板性能使 code 更能适应变化，但是对于维护者而言，code 最重要
   > 的一方面是可理解性。
3. 亲密性(易于熟悉的性质) 指的是 code 舒适程度吧，知道哪里发生了什么。这个应该是
   我们应该给予其他维护者的感觉功能可能不一样，但是底层的基础都应该是相似的。
   > 为了方便维护者，要注意一下指导：
4. 不要脱离常见的设计模式
5. 语法和描述要一致
6. 澄清不熟悉的问题领域

### 可用性

**可用性是指 code 以及 code 启用的功能和交互对于所有人都是有用且易于使用的。不仅
是完成用户的需求，还有创造出一个体验就是用户使用最少的困难时间和认知努力来完成目
标** 可维护性满足的是其他编程人员；可用性则是满足所有人员：包括使用 code 能力(功
能)的人，也包括改变 code 完成需求和 bug 修复的人。

#### User stories

可用性是指某一个特定目的的事物易于使用的程度。目的是由完全的理解问题模型和一系列
的清晰需求来定义的。User Stories 是明确表达目的的技术，一般的模式是: As a
{person}, I want to {want}, So that {purpose}...

> user stories 有助于要满足的目的以及从用户角度关注问题。所以 code 的时候规划出
> 用户的 stories

#### 直观的设计

直观的设计是用户不需要花费太多的经理去理解事物的运转方式.

> 写代码的时候，参与设计，架构，功能和每一行的语法这些都是设计的重要部分。直观的
> 设计对于写可用的 code 很重要。 GUI 上 X 按钮表示退出。硬盘 icon 表示保存；
> Code 上 is 开头的函数返回 boolean；大写+下划线表示常量。等等。这些大多数有用户
> 的期望接入到 code 里会使得 code 更易于使用。

### 可访问性

可访问性是可用性的重要原则，指的是满足所有用户的重要性。不论用户是哪种能力和情况
。

> 写代码的核心原则是时刻关注用户。
